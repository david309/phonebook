{"version":3,"sources":["components/FilterNames.js","components/AddItem.js","components/ListItems.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["FilterNames","props","onChange","AddItem","formSubmit","changeNameInput","changeNumInput","newName","newNum","onSubmit","value","type","ListItems","person","deleteUser","name","number","onClick","Notification","message","style","className","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","baseUrl","axios","get","then","response","data","newObj","post","delete","id","put","App","useState","persons","setPersons","setNewName","setNewNum","notificationMessage","setNotificationMessage","notificationStyle","setNotificationStyle","useEffect","personServices","res","resetNotification","time","setTimeout","event","arr","forEach","p","toLowerCase","includes","target","display","preventDefault","newPersonObj","find","window","confirm","match","map","concat","filter","key","catch","error","ReactDOM","render","document","getElementById"],"mappings":"oRAWeA,G,MATK,SAAAC,GAClB,OACE,6BACE,iDACA,2BAAOC,SAAUD,EAAMC,cCedC,EAnBC,SAAC,GAAsE,IAApEC,EAAmE,EAAnEA,WAAYC,EAAuD,EAAvDA,gBAAiBC,EAAsC,EAAtCA,eAAgBC,EAAsB,EAAtBA,QAASC,EAAa,EAAbA,OACvE,OACE,6BACE,iDACA,0BAAMC,SAAUL,GACd,sCACQ,2BAAOF,SAAUG,EAAiBK,MAAOH,KAEjD,wCACU,2BAAOL,SAAUI,EAAgBI,MAAOF,KAElD,6BACE,4BAAQG,KAAK,UAAb,WCJKC,EARG,SAAC,GAA4B,IAA1BC,EAAyB,EAAzBA,OAAQC,EAAiB,EAAjBA,WAC3B,OACE,4BACGD,EAAOE,KADV,MACmBF,EAAOG,OAD1B,IACkC,4BAAQC,QAASH,GAAjB,YC6BvBI,EAhCM,SAAC,GAAwB,IAAtBC,EAAqB,EAArBA,QAASC,EAAY,EAAZA,MAqB/B,OAAgB,OAAZD,EACK,KAIP,yBAAKE,UAAU,eAAeD,MAAiB,YAAVA,EAzBf,CACtBE,MAAO,QACPC,WAAY,YACZC,SAAU,GACVC,YAAa,QACbC,aAAc,EACdC,QAAS,GACTC,aAAc,IAGU,CACxBN,MAAO,MACPC,WAAY,YACZC,SAAU,GACVC,YAAa,QACbC,aAAc,EACdC,QAAS,GACTC,aAAc,KASXT,I,gBC5BDU,EAAU,eAsBD,EApBA,WAEb,OADgBC,IAAMC,IAAIF,GACXG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAkB5B,EAfI,SAAAC,GAEjB,OADgBL,IAAMM,KAAKP,EAASM,GACrBH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAa5B,EAVI,SAAArB,GAEjB,OADgBiB,IAAMO,OAAN,UAAgBR,EAAhB,YAA2BhB,EAAOyB,KACnCN,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAQ5B,EALI,SAACI,EAAIH,GAEtB,OADgBL,IAAMS,IAAN,UAAaV,EAAb,YAAwBS,GAAMH,GAC/BH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SC4G5BM,EApHH,WAAO,IAAD,EACcC,mBAAS,IADvB,mBACTC,EADS,KACAC,EADA,OAEcF,mBAAS,IAFvB,mBAETlC,EAFS,KAEAqC,EAFA,OAGYH,mBAAS,IAHrB,mBAGTjC,EAHS,KAGDqC,EAHC,OAIsCJ,mBAAS,MAJ/C,mBAITK,EAJS,KAIYC,EAJZ,OAKkCN,mBAAS,WAL3C,mBAKTO,EALS,KAKUC,EALV,KAOhBC,qBAAU,WACRC,IAAwBnB,MAAK,SAAAoB,GAAG,OAAIT,EAAWS,QAC9C,IAEH,IAAMC,EAAoB,SAAAC,GACxBC,YAAW,WACTR,EAAuB,QACtBO,IAoFL,OACE,6BACE,6CACA,kBAAC,EAAD,CAAcnC,QAAS2B,EAAqB1B,MAAO4B,IACnD,kBAAC,EAAD,CAAa9C,SArFG,SAAAsD,GAClB,IAAIC,EAAG,YAAOf,GAEde,EAAIC,SAAQ,SAASC,GACfA,EAAE5C,KAAK6C,cAAcC,SAASL,EAAMM,OAAOpD,MAAMkD,eACnDD,EAAEI,SAAU,EAEZJ,EAAEI,SAAU,KAGhBpB,EAAWc,MA4ET,kBAAC,EAAD,CACErD,WAlEa,SAAAoD,GACjBA,EAAMQ,iBACN,IAAMC,EAAe,CAAElD,KAAMR,EAASS,OAAQR,EAAQuD,SAAS,GAE/D,GAAIrB,EAAQwB,MAAK,SAAAP,GAAC,OAAIA,EAAE5C,KAAK6C,gBAAkBrD,EAAQqD,iBAAgB,CACrE,IAAIO,OAAOC,QAAP,UAAkB7D,EAAlB,mDAAoEC,EAApE,MAQG,OAPL,IAAI6D,EAAQ3B,EAAQwB,MAAK,SAAAP,GAAC,OAAIA,EAAE5C,OAASR,KACzC4C,EAA0BkB,EAAM/B,GAAI2B,GAAcjC,MAAK,SAAAoB,GACrDT,EAAWD,EAAQ4B,KAAI,SAAAX,GAAC,OAAKA,EAAErB,KAAO+B,EAAM/B,GAAKqB,EAAIP,MACrDH,EAAqB,WACrBF,EAAuB,WAAD,OAAYK,EAAIrC,KAAhB,MACtBsC,EAAkB,aAGjB,GAAIX,EAAQwB,MAAK,SAAAP,GAAC,OAAIA,EAAE3C,SAAWR,KAAS,CACjD,IAAI2D,OAAOC,QAAP,UAAkB5D,EAAlB,iDAAiED,EAAjE,MAQG,OAPL,IAAI8D,EAAQ3B,EAAQwB,MAAK,SAAAP,GAAC,OAAIA,EAAE3C,SAAWR,KAC3C2C,EAA0BkB,EAAM/B,GAAI2B,GAAcjC,MAAK,SAAAoB,GACrDT,EAAWD,EAAQ4B,KAAI,SAAAX,GAAC,OAAKA,EAAErB,KAAO+B,EAAM/B,GAAKqB,EAAIP,MACrDH,EAAqB,WACrBF,EAAuB,WAAD,OAAYK,EAAIpC,OAAhB,MACtBqC,EAAkB,cAItBF,EAA0Bc,GAAcjC,MAAK,SAAAE,GAC3CS,EAAWD,EAAQ6B,OAAOrC,IAC1Be,EAAqB,WACrBF,EAAuB,SAAD,OAAUb,EAAKnB,KAAf,MACtBsC,EAAkB,SAGtBT,EAAW,IACXC,EAAU,KAkCNxC,gBA3EkB,SAAAmD,GACtBZ,EAAWY,EAAMM,OAAOpD,QA2EpBJ,eAxEiB,SAAAkD,GACrBX,EAAUW,EAAMM,OAAOpD,QAwEnBH,QAASA,EACTC,OAAQA,IAEV,uCACA,4BAjBkBkC,EAAQ8B,QAAO,SAAAb,GAAC,OAAkB,IAAdA,EAAEI,WACvBO,KAAI,SAAAX,GAAC,OAAI,kBAAC,EAAD,CAAWc,IAAKd,EAAErB,GAAIzB,OAAQ8C,EAAG7C,WAAY,kBArBtDD,EAqByE8C,OApBxFQ,OAAOC,QAAP,iBAAyBvD,EAAOE,KAAhC,OACFoC,EACctC,GACXmB,MAAK,SAAAoB,GACJT,EAAWD,EAAQ8B,QAAO,SAAAb,GAAC,OAAIA,EAAErB,KAAOzB,EAAOyB,OAC/CW,EAAqB,WACrBF,EAAuB,WAAD,OAAYlC,EAAOE,KAAnB,MACtBsC,EAAkB,SAEnBqB,OAAM,SAAAC,GACL1B,EAAqB,QACrBF,EAAuB,IAAD,OAAKlC,EAAOE,KAAZ,kDACtBsC,EAAkB,MAClBV,EAAWD,EAAQ8B,QAAO,SAAAb,GAAC,OAAIA,EAAErB,KAAOzB,EAAOyB,WAdlC,IAAAzB,WCjFvB+D,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.cd46f8d4.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst FilterNames = props => {\r\n  return (\r\n    <div>\r\n      <h3>Search for a name</h3>\r\n      <input onChange={props.onChange} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FilterNames;\r\n","import React from 'react';\r\n\r\nconst AddItem = ({ formSubmit, changeNameInput, changeNumInput, newName, newNum }) => {\r\n  return (\r\n    <div>\r\n      <h3>Add a new contact</h3>\r\n      <form onSubmit={formSubmit}>\r\n        <div>\r\n          name: <input onChange={changeNameInput} value={newName} />\r\n        </div>\r\n        <div>\r\n          number: <input onChange={changeNumInput} value={newNum} />\r\n        </div>\r\n        <div>\r\n          <button type='submit'>add</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddItem;\r\n","import React from 'react';\r\n\r\nconst ListItems = ({ person, deleteUser }) => {\r\n  return (\r\n    <li>\r\n      {person.name} - {person.number} <button onClick={deleteUser}>delete</button>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default ListItems;\r\n","import React from 'react';\r\n\r\nconst Notification = ({ message, style }) => {\r\n  const successfulStyle = {\r\n    color: 'green',\r\n    background: 'lightgray',\r\n    fontSize: 20,\r\n    borderStyle: 'solid',\r\n    borderRadius: 5,\r\n    padding: 10,\r\n    marginBottom: 10\r\n  };\r\n\r\n  const unsuccessfulStyle = {\r\n    color: 'red',\r\n    background: 'lightgray',\r\n    fontSize: 20,\r\n    borderStyle: 'solid',\r\n    borderRadius: 5,\r\n    padding: 10,\r\n    marginBottom: 10\r\n  };\r\n\r\n  if (message === null) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className='notification' style={style === 'success' ? successfulStyle : unsuccessfulStyle}>\r\n      {message}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Notification;\r\n","import axios from 'axios';\r\nconst baseUrl = '/api/persons';\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl);\r\n  return request.then(response => response.data);\r\n};\r\n\r\nconst createUser = newObj => {\r\n  const request = axios.post(baseUrl, newObj);\r\n  return request.then(response => response.data);\r\n};\r\n\r\nconst removeUser = person => {\r\n  const request = axios.delete(`${baseUrl}/${person.id}`);\r\n  return request.then(response => response.data);\r\n};\r\n\r\nconst updateUser = (id, newObj) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObj);\r\n  return request.then(response => response.data);\r\n};\r\n\r\nexport default { getAll, createUser, removeUser, updateUser };\r\n","import React, { useState, useEffect } from 'react';\nimport './App.css';\n\n// Import components\nimport FilterNames from './components/FilterNames';\nimport AddItem from './components/AddItem';\nimport ListItems from './components/ListItems';\nimport Notification from './components/Notification';\n\n// Import backend services\nimport personServices from './services/persons';\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState('');\n  const [newNum, setNewNum] = useState('');\n  const [notificationMessage, setNotificationMessage] = useState(null);\n  const [notificationStyle, setNotificationStyle] = useState('success');\n\n  useEffect(() => {\n    personServices.getAll().then(res => setPersons(res));\n  }, []);\n\n  const resetNotification = time => {\n    setTimeout(() => {\n      setNotificationMessage(null);\n    }, time);\n  };\n\n  const filterNames = event => {\n    let arr = [...persons];\n\n    arr.forEach(function(p) {\n      if (p.name.toLowerCase().includes(event.target.value.toLowerCase())) {\n        p.display = true;\n      } else {\n        p.display = false;\n      }\n    });\n    setPersons(arr);\n  };\n\n  const changeNameInput = event => {\n    setNewName(event.target.value);\n  };\n\n  const changeNumInput = event => {\n    setNewNum(event.target.value);\n  };\n\n  const formSubmit = event => {\n    event.preventDefault();\n    const newPersonObj = { name: newName, number: newNum, display: true };\n\n    if (persons.find(p => p.name.toLowerCase() === newName.toLowerCase())) {\n      if (window.confirm(`${newName} already exists! Update their number to ${newNum}?`)) {\n        let match = persons.find(p => p.name === newName);\n        personServices.updateUser(match.id, newPersonObj).then(res => {\n          setPersons(persons.map(p => (p.id !== match.id ? p : res)));\n          setNotificationStyle('success');\n          setNotificationMessage(`Updated ${res.name}!`);\n          resetNotification(5000);\n        });\n      } else return;\n    } else if (persons.find(p => p.number === newNum)) {\n      if (window.confirm(`${newNum} already exists! Update their name to ${newName}?`)) {\n        let match = persons.find(p => p.number === newNum);\n        personServices.updateUser(match.id, newPersonObj).then(res => {\n          setPersons(persons.map(p => (p.id !== match.id ? p : res)));\n          setNotificationStyle('success');\n          setNotificationMessage(`Updated ${res.number}!`);\n          resetNotification(3500);\n        });\n      } else return;\n    } else {\n      personServices.createUser(newPersonObj).then(data => {\n        setPersons(persons.concat(data));\n        setNotificationStyle('success');\n        setNotificationMessage(`Added ${data.name}!`);\n        resetNotification(3500);\n      });\n    }\n    setNewName('');\n    setNewNum('');\n  };\n\n  const handleDelete = person => {\n    if (window.confirm(`Remove ${person.name}?`)) {\n      personServices\n        .removeUser(person)\n        .then(res => {\n          setPersons(persons.filter(p => p.id !== person.id));\n          setNotificationStyle('success');\n          setNotificationMessage(`Deleted ${person.name}!`);\n          resetNotification(3500);\n        })\n        .catch(error => {\n          setNotificationStyle('fail');\n          setNotificationMessage(`'${person.name}' has already been removed from the database!`);\n          resetNotification(3500);\n          setPersons(persons.filter(p => p.id !== person.id));\n        });\n    } else return;\n  };\n\n  const rows = () => {\n    const namesToShow = persons.filter(p => p.display === true);\n    return namesToShow.map(p => <ListItems key={p.id} person={p} deleteUser={() => handleDelete(p)} />);\n  };\n\n  return (\n    <div>\n      <h1>Phonebook App</h1>\n      <Notification message={notificationMessage} style={notificationStyle} />\n      <FilterNames onChange={filterNames} />\n      <AddItem\n        formSubmit={formSubmit}\n        changeNameInput={changeNameInput}\n        changeNumInput={changeNumInput}\n        newName={newName}\n        newNum={newNum}\n      />\n      <h3>Numbers</h3>\n      <ul>{rows()}</ul>\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}